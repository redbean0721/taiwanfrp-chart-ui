# 變更日誌 (Changelog)

所有對此專案的重要變更都會記錄在此檔案中。

格式基於 [Keep a Changelog](https://keepachangelog.com/zh-TW/1.0.0/)，
並且此專案遵循 [語意化版本](https://semver.org/lang/zh-TW/)。

## [0.0.4] - 2025-10-14

### 🎨 程式碼重構與手機版優化

#### 程式碼組織改進
- 📁 **CSS 模組化**：將 FrpChart.vue 中的 CSS 樣式（超過 1200 行）分離到獨立檔案
  - 建立 `src/assets/FrpChart.css` 統一管理樣式
  - Vue 元件使用 `<style scoped src="../assets/FrpChart.css">` 引入
  - 提升程式碼可讀性與維護性

#### 手機版響應式優化
- 📱 **防止橫向滾動**：全面修正手機版網頁左右移動問題
  - 全局設定 `overflow-x: hidden` 和 `max-width: 100vw`
  - 所有容器添加寬度限制：`width: 100%` + `max-width: 100%`
  - 調整 viewport meta 標籤：`maximum-scale=1.0, user-scalable=no`
  - 優化 padding 值（手機版從 10px 減為 8px）
  
- 🎯 **內容水平置中**：
  - 修正 `#app` 和 `.chart-container` 的 flex 佈局
  - 確保內容在大螢幕上居中顯示（最大寬度 1800px）
  - 手機版（≤768px）移除 flex 佈局，改用 block 排列
  
- 💻 **趨勢圖顯示策略**：手機版顯示友善提示訊息
  - 桌面版：正常顯示完整 Chart.js 折線圖
  - 手機/平板版：顯示提示訊息建議使用電腦查看
  - 避免圖表在小螢幕上變形或顯示不全
  - 保留歷史資料表格供手機用戶查看
  
- 🎉 **隱藏彩蛋功能**：手機版趨勢圖彩蛋
  - 點擊 "📊 歷史資料表格仍可在下方查看" 3次
  - 啟用後手機也能查看完整趨勢圖
  - 顯示點擊計數器 (1/3, 2/3, 3/3)
  - 附帶成功提示訊息與動畫效果

#### 技術實作細節
- 新增通用樣式：`* { box-sizing: border-box }`
- 媒體查詢優化：
  - 平板版（576px - 768px）獨立樣式調整
  - 手機版（< 575px）完整響應式支援
- HTML body 添加內聯樣式防止溢出
- 深色模式完整支援所有新增功能

#### 視覺效果改進
- ✨ 彈跳動畫（電腦圖示）
- 💫 脈衝動畫（點擊計數器）
- 🎊 滑入動畫（彩蛋啟用提示）
- 🎨 懸停效果（可點擊區域提示）

## [0.0.3] - 2025-09-30

### 🆕 歷史資料監控與視覺化功能

#### 核心功能
- 📊 **歷史資料表格**：可收起/展開的詳細歷史資料顯示
  - 支援伺服器篩選 (單個或全部)
  - 可調整資料筆數 (預設 36 筆)
  - 自訂時間範圍查詢功能
  - 顯示連線數、客戶端數、協定分佈等詳細資訊
- 📈 **連線數趨勢折線圖**：視覺化歷史連線趨勢
  - 多伺服器對比顯示
  - 可選擇顯示連線數或客戶端數趨勢
  - 平滑曲線與懸停互動
- 🎛️ **互動式控制面板**：
  - 版本選擇 (預設 0.63.0)
  - 節點篩選 (支援 all 或特定伺服器)
  - 時間範圍選擇器
  - 資料重置功能

#### 使用者體驗改進
- 🗂 摺疊式設計：歷史資料區塊預設收起，節省螢幕空間
- 🎨 一致的視覺設計：延續現有的深色/明亮主題
- 📱 完整響應式支援：適配所有裝置尺寸
- ⚡ 按需載入：僅在展開時才載入歷史資料

#### 技術實作
- Chart.js Line 圖表組件整合
- 新增 Linear Scale 與 Point/Line Elements
- 歷史資料 API 整合 (`/api/frp/monitor/query`)
- 時間格式化與本地化顯示
- CSS Grid 與 Flexbox 響應式佈局優化

#### API 功能
- 支援多參數查詢：`version`, `node`, `num`, `start_time`, `end_time`
- 時間格式：`YYYY-MM-DD HH:mm:ss`
- 節點篩選：`all` 或特定伺服器名稱
- 資料筆數控制：從最新到最舊排序


## [0.0.2] - 2025-09-29

### ⚡ 即時資料更新改進 (SSE 實作)

#### 核心功能
- 🔄 將資料更新方式從 30 秒輪詢改為 SSE (Server-Sent Events) 即時推送
- ⏱ 每 5 秒自動接收最新資料，並覆蓋上一份，減少前端記憶體消耗
- 🛠 自動重連機制：當 SSE 連線中斷時，自動嘗試重新建立連線

#### 技術實作
- FastAPI SSE API (`/frp/monitor/query/sse`)
- Vue 3 + EventSource 接收 SSE
- 移除原本的 fetch 輪詢機制


## [0.0.1] - 2025-09-09

### ✨ 初始版本發布 (Initial Release)

#### 核心功能
- 🎨 TaiwanFRP 伺服器監控儀表板
- 📊 即時連線數圓餅圖顯示
- 👥 客戶端數量圓餅圖顯示
- � 30 秒自動重新整理資料
- ⏰ 最後更新時間顯示

#### 使用者介面
- � 明亮/深色主題切換功能
- 📱 完整響應式設計 (支援 5 個中斷點)
- 📈 詳細統計資訊卡片顯示
- 🌈 20 色調色盤確保圖表清晰度

#### 技術實作
- Vue 3 + TypeScript + Composition API
- Chart.js 4.5.0 + vue-chartjs 5.3.2
- Vite 7.1.5 建置工具
- CSS 響應式設計
- localStorage 主題持久化
- Fetch API 資料擷取

#### 響應式支援
- 桌面版：≥1400px (寬螢幕)
- 筆電版：1200-1399px
- 平板版：992-1199px
- 小平板：769-991px
- 手機版：≤768px

---

*此專案旨在提供 TaiwanFRP 服務的即時監控視覺化介面*
